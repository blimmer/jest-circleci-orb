description: >
  This command restores the jest-cache directory.
parameters:
  jest-cache-location:
    type: string
    default: .jest-cache
    description: "The location of the jest cacheDirectory"
steps:
  - run:
      name: Export commit hashes for cache keys
      command: |
       git rev-parse HEAD~1 > /tmp/jest-cache-previous-commit-hash.txt
       git rev-parse HEAD > /tmp/jest-cache-current-commit-hash.txt
  - restore_cache:
      keys:
        - jest-cache-{{ checksum "/tmp/jest-cache-previous-commit-hash.txt" }}
